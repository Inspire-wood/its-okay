<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>감성 툴 대시보드 — Inspire Wood</title>
  <meta name="description" content="따뜻한 링크와 메시지를 만드는 작은 도구집. 필요할 때 가볍게 열고, 끝나면 살포시 닫아요.">
  <style>
    :root{ --ink:#0f172a; --muted:#64748b; --line:#e5e7eb; --card:#ffffff; }
    html,body{margin:0;padding:0;height:100%;font-family:system-ui,-apple-system,Segoe UI,Roboto,Pretendard,Apple SD Gothic Neo,Helvetica,Arial,sans-serif;color:var(--ink);}
    body{
      background:
        radial-gradient(1200px 560px at 10% -10%, #fff6ed 0%, rgba(255,246,237,0) 60%),
        radial-gradient(900px 520px at 92% 110%, #ffe5cf 0%, rgba(255,229,207,0) 55%),
        linear-gradient(180deg, #fff1e6 0%, #fde3d3 100%);
    }
    .wrap{max-width:1080px;margin:40px auto;padding:0 20px}
    header{display:flex;align-items:center;gap:12px;margin-bottom:10px}
    header .chip{font-size:12px;color:#475569;border:1px solid var(--line);padding:6px 10px;border-radius:999px;background:#fff}
    h1{font-size:clamp(26px,4.2vw,40px);margin:4px 0 8px}
    .lead{color:var(--muted);margin:0 0 20px}
    .toolbar{display:flex;gap:8px;flex-wrap:wrap;margin:8px 0 18px}
    .btn{border:1px solid var(--line);background:#fff;border-radius:12px;padding:8px 12px;cursor:pointer;font-weight:700}
    .btn:hover{border-color:#cbd5e1}
    .search{width:100%;border:1px solid var(--line);border-radius:12px;padding:12px 14px;font-size:14px}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:14px;margin-top:14px}
    .card{background:#fff;border:1px solid var(--line);border-radius:16px;padding:16px;box-shadow:0 8px 24px rgba(2,6,23,.06)}
    .title{display:flex;align-items:center;gap:10px;font-weight:900;margin:0 0 4px}
    .desc{color:#64748b;font-size:14px;margin:0 0 12px;min-height:40px}
    .card .row{display:flex;gap:8px}
    .badge{font-size:12px;color:#475569;border:1px dashed #d1d5db;border-radius:999px;padding:2px 8px;background:#fff}
    .muted{color:#94a3b8;font-size:12px;margin-top:8px}
    .add{margin-top:18px;border-top:1px dashed #e5e7eb;padding-top:16px}
    .add label{display:block;font-size:12px;color:#64748b;margin:8px 0 6px}
    .input{width:100%;border:1px solid var(--line);border-radius:12px;padding:10px 12px}
    .row{display:flex;gap:10px;flex-wrap:wrap}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="chip">IW</div>
      <div>
        <h1>감성 툴 대시보드</h1>
        <p class="lead">따뜻한 링크와 메시지를 만드는 작은 도구집. 필요할 땐 가볍게 열고, 끝나면 살포시 닫아요. ✿</p>
      </div>
    </header>

    <div class="toolbar">
      <button class="btn" id="btnBack" onclick="location.href='/'">← It’s Okay</button>
      <button class="btn" id="btnExport">Export JSON</button>
      <label class="btn">Import JSON<input id="file" type="file" accept="application/json" style="display:none"></label>
      <button class="btn" id="btnReset">Reset</button>
    </div>

    <input id="q" class="search" placeholder="Search tools… (title / description)" />

    <div class="grid" id="grid"></div>

    <div class="add">
      <h3>새 도구 추가</h3>
      <label>제목</label>
      <input id="tTitle" class="input" placeholder="예) Link Maker PRO v2.2">
      <label>설명</label>
      <input id="tDesc" class="input" placeholder="간단 설명">
      <label>링크(HREF)</label>
      <input id="tHref" class="input" placeholder="/my-tool/ or https://…">
      <div style="margin-top:10px">
        <button class="btn" id="btnAdd">Add Tool</button>
      </div>
    </div>

    <p class="muted">© Inspire Wood — 감성 도구 대시보드</p>
  </div>

  <script>
    const $=s=>document.querySelector(s);
    const key='iw_tools_v2';
    const defaultTools=[
      {id:'linkmaker-v22', emoji:'🔗', title:'Link Maker PRO v2.2', desc:'문장 → URL, 발음/QR/단축링크 자동.', href:'/its-okay/link-maker-pro-v2-2.html', tags:['Inspire Wood','K‑Mood Hangeul']},
      {id:'healing-maker', emoji:'💗', title:'힐링메세지 메이커', desc:'이름/메시지로 힐링 링크 만들기.', href:'/its-okay/healing/', tags:['Healing']},
      {id:'zip-upgrader', emoji:'📦', title:'ZIP 업그레이더 v1.2', desc:'ZIP로 빠르게 배포 · 자동 Strip/미리보기/Repo 체크', href:'/its-okay/tools/zip-upgrader/', tags:['Deploy']},
    ];

    let tools=load();
    render();

    // events
    $('#btnExport').onclick=()=>{
      const blob=new Blob([JSON.stringify(tools,null,2)],{type:'application/json'});
      const a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='iw-tools.json'; a.click();
    };
    $('#file').onchange=async e=>{
      const f=e.target.files[0]; if(!f) return;
      const txt=await f.text();
      try{ tools=JSON.parse(txt); save(); render(); }catch(err){ alert('JSON 파싱 실패'); }
    };
    $('#btnReset').onclick=()=>{ if(confirm('초기 상태로 되돌릴까요?')){ tools=[...defaultTools]; save(); render(); } };
    $('#btnAdd').onclick=()=>{
      const t={id:Date.now().toString(36), emoji:'✨', title:$('#tTitle').value.trim(), desc:$('#tDesc').value.trim(), href:$('#tHref').value.trim(), tags:[]};
      if(!t.title||!t.href) return alert('제목과 링크는 필수입니다.');
      tools.push(t); save(); render(); $('#tTitle').value=$('#tDesc').value=$('#tHref').value='';
    };
    $('#q').oninput=()=>render();

    function load(){ try{ const s=localStorage.getItem(key); if(s) return JSON.parse(s); }catch(_){} return [...defaultTools]; }
    function save(){ localStorage.setItem(key, JSON.stringify(tools)); }

    function render(){
      const q=$('#q').value.trim().toLowerCase();
      const list=tools.filter(t=>!q || (t.title+t.desc).toLowerCase().includes(q));
      const grid=$('#grid'); grid.innerHTML='';
      list.forEach(t=>{
        const el=document.createElement('div'); el.className='card';
        el.innerHTML=`
          <div class="title"><span style="font-size:18px">${t.emoji||'🧰'}</span> ${t.title}</div>
          <p class="desc">${t.desc||''}</p>
          <div class="row">
            <a class="btn" href="${t.href}" target="_blank" rel="noopener">Open</a>
            <button class="btn" data-id="${t.id}">Delete</button>
          </div>
          <div class="muted" style="margin-top:10px">${(t.tags||[]).map(x=>`<span class="badge">${x}</span>`).join(' ')}</div>
        `;
        el.querySelector('button[data-id]').onclick=()=>{ if(confirm('삭제할까요?')){ tools=tools.filter(x=>x.id!==t.id); save(); render(); } };
        grid.appendChild(el);
      });
    }
  </script>
</body>
</html>
